<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Artur Novotarskyi - Sports & Activities</title>
  <link rel="stylesheet" href="sports.css">
</head>

<body class="sports-page">
  <header>
    <h1>Sports & Outdoor Activities</h1>
    <p>Building resilience, leadership, and teamwork through an active lifestyle.</p>
    <a class="button" href="index.html">Back to Portfolio</a>
  </header>

  <main>
    <section class="sports-section">
      <h2>Rescue Sports & Adventure Tourism</h2>
      <p>Since 2015 I have been part of the Small Academy of Rescue Service, a regional branch of the nationwide youth movement
        “School of Safety.” In 2017 I became the team captain, leading training schedules, competition strategies, and mentorship for
        new members. I hold the First-Category (Adult) qualification in rescue sports, reflecting proficiency across rope
        work, technical rescue, and survival disciplines.</p>
      <p>As an athlete I have competed—and frequently medaled—in city, regional, and nationwide rescue competitions. Our
        team earned fourth place at the XV International Youth Fire Rescue Rally in Gomel, Belarus (2017), while I have
        also collected individual podiums in rope rescue, obstacle courses, and orienteering challenges.</p>
      <div class="photo-carousel" aria-label="Rescue sports photo gallery">
        <button class="carousel-control prev" type="button" aria-label="Previous photo">&#10094;</button>
        <div class="carousel-viewport" tabindex="0">
          <div class="carousel-track">
            <img src="resources/sports/tourism_1.jpg" alt="Rescue team training on ropes" loading="lazy">
            <img src="resources/sports/tourism_2.jpg" alt="Obstacle course during rescue competition" loading="lazy">
            <img src="resources/sports/tourism_3.jpg" alt="Team preparing safety gear" loading="lazy">
            <img src="resources/sports/tourism_4.jpg" alt="Artur leading briefing for teammates" loading="lazy">
            <img src="resources/sports/tourism_5.jpg" alt="Rescue athletes during timed challenge" loading="lazy">
            <img src="resources/sports/tourism_6.jpg" alt="Outdoor orienteering segment with map" loading="lazy">
            <img src="resources/sports/tourism_7.jpg" alt="Team photo in rescue uniforms" loading="lazy">
            <img src="resources/sports/tourism_8.jpg" alt="Climbing wall exercise" loading="lazy">
            <img src="resources/sports/tourism_9.jpg" alt="Crossing rope bridge practice" loading="lazy">
            <img src="resources/sports/tourism_10.jpg" alt="Receiving awards at competition" loading="lazy">
            <img src="resources/sports/tourism_11.jpg" alt="Preparing equipment before contest" loading="lazy">
          </div>
        </div>
        <button class="carousel-control next" type="button" aria-label="Next photo">&#10095;</button>
      </div>
    </section>

    <section class="sports-section">
      <h2>Judging & Public Training</h2>
      <p>In 2020 the Federation of Sport Tourism of Ukraine certified me as an official referee, allowing me to organize
        and judge national-level events. I later helped coordinate regional rescue competitions and led first aid workshops
        for younger participants. These activities combined precision and responsibility—teaching me how to manage complex
        processes and communicate clearly under pressure.</p>
      <div class="photo-carousel" aria-label="Judging photo gallery">
        <button class="carousel-control prev" type="button" aria-label="Previous photo">&#10094;</button>
        <div class="carousel-viewport" tabindex="0">
          <div class="carousel-track">
            <img src="resources/sports/judge_1.jpg" alt="Judging rescue competition results" loading="lazy">
            <img src="resources/sports/judge_2.jpg" alt="Leading first aid training session" loading="lazy">
          </div>
        </div>
        <button class="carousel-control next" type="button" aria-label="Next photo">&#10095;</button>
      </div>
    </section>

    <section class="sports-section">
      <h2>Cycling & Strength Training</h2>
      <p>Cycling helps me maintain cardio fitness while balancing the demands of engineering work. I combine it with
        bodyweight and resistance training to stay injury-free and ready for long outdoor sessions.</p>
    </section>
  </main>
  <div class="lightbox" data-lightbox role="dialog" aria-modal="true" aria-hidden="true" tabindex="-1">
    <button class="lightbox-close" type="button" aria-label="Close photo viewer">&times;</button>
    <button class="lightbox-nav prev" type="button" aria-label="Previous photo">&#10094;</button>
    <img class="lightbox-image" src="" alt="">
    <button class="lightbox-nav next" type="button" aria-label="Next photo">&#10095;</button>
  </div>
  <script>
    (function () {
      function setupSwipe({ track, goTo, getIndex }) {
        if (!track) return;
        let startX = 0;
        let isDragging = false;
        let activePointerId = null;

        if (window.PointerEvent) {
          track.addEventListener('pointerdown', (event) => {
            if (event.pointerType === 'mouse' && event.button !== 0) return;
            isDragging = true;
            activePointerId = event.pointerId;
            startX = event.clientX;
          });

          window.addEventListener('pointerup', (event) => {
            if (!isDragging || event.pointerId !== activePointerId) return;
            const delta = event.clientX - startX;
            if (Math.abs(delta) > 30) {
              goTo(getIndex() + (delta > 0 ? -1 : 1));
            }
            isDragging = false;
            activePointerId = null;
          });

          window.addEventListener('pointercancel', (event) => {
            if (event.pointerId === activePointerId) {
              isDragging = false;
              activePointerId = null;
            }
          });

          track.addEventListener('pointerleave', () => {
            isDragging = false;
          });
        } else {
          track.addEventListener('touchstart', (event) => {
            if (!event.touches || event.touches.length !== 1) return;
            isDragging = true;
            startX = event.touches[0].clientX;
          }, { passive: true });

          track.addEventListener('touchend', (event) => {
            if (!isDragging || !event.changedTouches || event.changedTouches.length !== 1) return;
            const delta = event.changedTouches[0].clientX - startX;
            if (Math.abs(delta) > 30) {
              goTo(getIndex() + (delta > 0 ? -1 : 1));
            }
            isDragging = false;
          });
        }
      }

      const carousels = Array.from(document.querySelectorAll('.photo-carousel'))
        .map((carouselEl) => {
          const track = carouselEl.querySelector('.carousel-track');
          const viewport = carouselEl.querySelector('.carousel-viewport');
          const prevButton = carouselEl.querySelector('.carousel-control.prev');
          const nextButton = carouselEl.querySelector('.carousel-control.next');
          const slides = Array.from(track?.children || []);
          if (!slides.length || !track) {
            return null;
          }

          let currentIndex = 0;

          function goTo(index) {
            const boundedIndex = (index + slides.length) % slides.length;
            currentIndex = boundedIndex;
            track.style.transform = `translateX(${-boundedIndex * 100}%)`;
          }

          prevButton?.addEventListener('click', () => goTo(currentIndex - 1));
          nextButton?.addEventListener('click', () => goTo(currentIndex + 1));

          viewport?.addEventListener('keydown', (event) => {
            if (event.key === 'ArrowLeft') {
              event.preventDefault();
              goTo(currentIndex - 1);
            } else if (event.key === 'ArrowRight') {
              event.preventDefault();
              goTo(currentIndex + 1);
            }
          });

          setupSwipe({
            track,
            goTo,
            getIndex: () => currentIndex,
          });

          goTo(0);

          return {
            carouselEl,
            track,
            viewport,
            slides,
            goTo,
            getCurrentIndex: () => currentIndex,
          };
        })
        .filter(Boolean);

      if (!carousels.length) return;

      const lightbox = document.querySelector('[data-lightbox]');
      const lightboxImage = lightbox?.querySelector('.lightbox-image');
      const lightboxPrev = lightbox?.querySelector('.lightbox-nav.prev');
      const lightboxNext = lightbox?.querySelector('.lightbox-nav.next');
      const lightboxClose = lightbox?.querySelector('.lightbox-close');

      if (!lightbox || !lightboxImage) return;

      let lightboxOpen = false;
      let activeCarousel = null;
      let activeIndex = 0;

      function setLightboxImage() {
        if (!activeCarousel) return;
        const slide = activeCarousel.slides[activeIndex];
        if (!slide) return;
        lightboxImage.src = slide.getAttribute('src') || '';
        lightboxImage.alt = slide.getAttribute('alt') || '';
      }

      function openLightbox(carousel, index) {
        activeCarousel = carousel;
        activeIndex = index;
        carousel.goTo(index);
        setLightboxImage();
        lightboxOpen = true;
        lightbox.classList.add('is-open');
        lightbox.setAttribute('aria-hidden', 'false');
        document.body.classList.add('no-scroll');
        lightbox.focus();
      }

      function closeLightbox() {
        lightboxOpen = false;
        lightbox.classList.remove('is-open');
        lightbox.setAttribute('aria-hidden', 'true');
        document.body.classList.remove('no-scroll');
        activeCarousel?.viewport?.focus({ preventScroll: true });
        activeCarousel = null;
        activeIndex = 0;
      }

      function goRelative(step) {
        if (!activeCarousel) return;
        const total = activeCarousel.slides.length;
        activeIndex = (activeIndex + step + total) % total;
        activeCarousel.goTo(activeIndex);
        setLightboxImage();
      }

      carousels.forEach((carouselData) => {
        carouselData.slides.forEach((slide, index) => {
          slide.setAttribute('draggable', 'false');
          slide.setAttribute('tabindex', '0');
          slide.addEventListener('click', () => openLightbox(carouselData, index));
          slide.addEventListener('keydown', (event) => {
            if (event.key === 'Enter' || event.key === ' ') {
              event.preventDefault();
              openLightbox(carouselData, index);
            }
          });
        });
      });

      lightboxPrev?.addEventListener('click', () => goRelative(-1));
      lightboxNext?.addEventListener('click', () => goRelative(1));
      lightboxClose?.addEventListener('click', closeLightbox);

      lightbox.addEventListener('click', (event) => {
        if (event.target === lightbox) {
          closeLightbox();
        }
      });

      document.addEventListener('keydown', (event) => {
        if (!lightboxOpen) return;
        if (event.key === 'Escape') {
          event.preventDefault();
          closeLightbox();
        } else if (event.key === 'ArrowLeft') {
          event.preventDefault();
          goRelative(-1);
        } else if (event.key === 'ArrowRight') {
          event.preventDefault();
          goRelative(1);
        }
      });
    })();
  </script>
</body>

</html>
